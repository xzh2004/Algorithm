我来分析一下这个算分逻辑，主要在 calculate_value 函数中实现。这是一个序列比对后的评分计算函数，主要逻辑如下：
输入参数:
tuples_str: 包含比对信息的字符串
ref: 参考序列
query: 查询序列
主要计算步骤:
首先将输入的比对信息转换为点集（每4个数字为一组，表示一个比对区间）
对点集按照查询序列的起始位置排序
遍历每个比对区间，计算得分
评分规则:
对于每个比对区间，需要满足以下条件：
区间不能重叠（如果当前区间的起始位置小于前一个区间的结束位置，直接返回0分）
区间长度必须大于等于30（如果区间长度小于30，跳过该区间）
区间内的编辑距离比例必须小于0.1（如果编辑距离/区间长度 > 0.1，跳过该区间）
最终得分计算:
得分 = max(比对长度 - 总编辑距离, 0)
比对长度是所有有效区间的查询序列长度之和
编辑距离是所有有效区间的编辑距离之和
特殊情况处理:
如果点集为空或长度不是4的倍数，返回0分
如果处理过程中出现异常，返回0分
这个评分系统主要关注：
序列比对的连续性（通过检查区间重叠）
比对区域的最小长度要求（30bp）
比对质量（通过编辑距离比例控制）
最终得分反映了比对序列的长度和准确性（通过比对长度减去编辑距离）
这种评分方式适合用于评估序列比对的质量，特别是在需要考虑比对连续性和准确性的场景下。